{"version":3,"sources":["component/Admin/User/SearchSubcategory.js"],"names":["SearchSubcategory","props","_React$useState","React","useState","_React$useState2","Object","D_projects_transport_care_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","emails","setemails","_React$useState3","_React$useState4","dataSource","setdataSource","handleSearch","_ref","D_projects_transport_care_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","D_projects_transport_care_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","value","_yield$client$query","data","wrap","_context","prev","next","onSelect","length","client","query","SEARCH_SUB_CATEGORY_ONLY","variables","fetchPolicy","sent","search_sub_category_only","stop","_x","apply","this","arguments","_ref2","_callee2","_context2","id","passedFunction","_x2","react__WEBPACK_IMPORTED_MODULE_3___default","createElement","antd__WEBPACK_IMPORTED_MODULE_4__","onSearch","placeholder","allowClear","className","map","user","index","Option","key","_id"],"mappings":"+KAqDeA,UAhDW,SAAAC,GAEtB,IAAAC,EAA4BC,IAAMC,SAAS,IAA3CC,EAAAC,OAAAC,EAAA,EAAAD,CAAAJ,EAAA,GAAOM,EAAPH,EAAA,GAAeI,EAAfJ,EAAA,GACAK,EAAoCP,IAAMC,SAAS,IAAnDO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAAOE,EAAPD,EAAA,GAAmBE,EAAnBF,EAAA,GACMG,EAAY,eAAAC,EAAAT,OAAAU,EAAA,EAAAV,CAAAW,EAAAC,EAAAC,KAAG,SAAAC,EAAMC,GAAN,IAAAC,EAAAC,EAAA,OAAAN,EAAAC,EAAAM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACdN,EACCZ,EAAUY,GAEVO,EAASP,KAETA,EAAMQ,QAAU,GANH,CAAAJ,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAOUG,IAAOC,MAAM,CAChCA,MAAOC,IACPC,UAAW,CAAEV,KAAM,CAAEF,MAAOA,IAC5Ba,YAAa,aAVJ,OAAAZ,EAAAG,EAAAU,KAOLZ,EAPKD,EAOLC,KAKRV,EAAcU,EAAOA,EAAKa,yBAA2B,IAZxC,wBAAAX,EAAAY,SAAAjB,MAAH,gBAAAkB,GAAA,OAAAvB,EAAAwB,MAAAC,KAAAC,YAAA,GAgBZb,EAAQ,eAAAc,EAAApC,OAAAU,EAAA,EAAAV,CAAAW,EAAAC,EAAAC,KAAG,SAAAwB,EAAMtB,GAAN,IAAAE,EAAA,OAAAN,EAAAC,EAAAM,KAAA,SAAAoB,GAAA,cAAAA,EAAAlB,KAAAkB,EAAAjB,MAAA,OACblB,EAAUY,IACNE,EAAK,IACJtB,EAAM4C,IAAIxB,EACfpB,EAAM6C,eAAevB,GAJR,wBAAAqB,EAAAP,SAAAM,MAAH,gBAAAI,GAAA,OAAAL,EAAAH,MAAAC,KAAAC,YAAA,GAMd,OACIO,EAAA9B,EAAA+B,cAAA,WACID,EAAA9B,EAAA+B,cAACC,EAAA,EAAD,CACItB,SAAUA,EACVuB,SAAUrC,EACVsC,YAAanD,EAAMmD,YACnB/B,MAAOb,EACP6C,YAAU,EACVC,UAAU,UAET1C,EAAW2C,IAAI,SAACC,EAAMC,GACnB,OACIT,EAAA9B,EAAA+B,cAACC,EAAA,EAAaQ,OAAd,CAAqBC,IAAKH,EAAKI,KAC1BJ,EAAKvD,EAAMoB","file":"static/js/8.28844473.chunk.js","sourcesContent":["import React from 'react';\r\nimport { AutoComplete } from 'antd';\r\nimport { SEARCH_SUB_CATEGORY_ONLY  } from '../../../graphql/User/home_page';\r\nimport { client } from \"../../../apollo\";\r\n\r\nconst SearchSubcategory = props => {\r\n    \r\n    const [emails, setemails] = React.useState('');\r\n    const [dataSource, setdataSource] = React.useState([]);\r\n    const handleSearch = async value => {\r\n        if(value){\r\n            setemails(value);\r\n        }else{\r\n            onSelect(value);\r\n        }\r\n        if (value.length >= 1) {\r\n            const { data } = await client.query({\r\n                query: SEARCH_SUB_CATEGORY_ONLY,\r\n                variables: { data: { value: value } },\r\n                fetchPolicy: 'no-cache',\r\n            });\r\n            setdataSource(data ? data.search_sub_category_only : [])\r\n        }\r\n    };\r\n\r\n    const onSelect = async value => {\r\n        setemails(value);\r\n        let data={};\r\n        data[props.id]=value;\r\n        props.passedFunction(data);\r\n    }\r\n    return (\r\n        <div>\r\n            <AutoComplete\r\n                onSelect={onSelect}\r\n                onSearch={handleSearch}\r\n                placeholder={props.placeholder}\r\n                value={emails}\r\n                allowClear\r\n                className=\"border\"\r\n            >\r\n                {dataSource.map((user, index) => {\r\n                    return (\r\n                        <AutoComplete.Option key={user._id}>\r\n                            {user[props.value]}\r\n                        </AutoComplete.Option>\r\n                    );\r\n                })}\r\n            </AutoComplete>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchSubcategory;\r\n"],"sourceRoot":""}